1
====

Angular 禅道
===
本章作为介绍AngularJS，框架和它背后的项目。首先，我们要采取一个简单的介绍一下项目本身的驱动，在哪里可以找到源代码和文档，如何寻求帮助，等等。
本章的大部分是充满介绍的AngularJS框架，它的核心概念，编码模式。有大量的材料覆盖，使学习的过程中快速，无痛，有大量的代码示例。
AngularJS是一个独特的框架，毫无疑问将塑造互联网几年来的发展空间。本章的最后一部分，这就是为什么解释什么使AngularJS如此特殊，它是如何比较其他现有框架，我们可以期待它在未来的。

在本章中，我们将涵盖以下主题：

* 如何写一个简单的Hello World应用程序AngularJS。在这样做的过程中，你会知道在哪里可以找到框架的源代码，它的文档和社区。
*  要熟悉基本构建块任何AngularJS应用程序模板与指令，范围和控制器。
*  要成为意识到的AngularJS复杂的依赖注入系统，其所有的细微差别。
*  要了解如何AngularJS的其他框架和库（尤其是jQuery的）比较，什么使得它如此特别。

遇到AngularJS
===
AngularJS是一个客户端JavaScript编写的MVC框架。在Web浏览器上运行，极大地帮助我们开发 现代，单页，AJAX风格的Web应用程序。它是一个通用的框架，特别是用来写CRUD（创建，读取，更新，删除）类型的Web应用程序。

熟悉的框架
===
AngularJS是最新的客户端的MVC框架，但它已经吸引了大量的关注，主要是由于其创新的模板系统，易于开发，非常扎实的工程实践。事实上，它的模板系统，在许多方面是独一无二的：

* 它使用HTML作为模板语言
* 不要求有一个明确的DOM刷新，AngularJS能够跟踪用户行为，浏览器事件和模型的变化，找出模板刷新
* 它有一个非常有趣的和可扩展的组件子系统，它是可以教的浏览器如何解释新的HTML标签和属性

模板子系统可能是最可见部分AngularJS的，但不要误会，AngularJS装备了几个实用程序和服务通常需要在单页面的Web应用程序是一个完整的框架。

AngularJS也有一些隐藏的宝藏，依赖注入（DI）和可测性的方面。内置的支持DI可以很容易地组装一个Web应用程序从较小的，彻底的测试服务。围绕它的设计框架和工具，促进测试实践在每一个阶段的发展过程。

在项目中寻找自己的方式
===
AngularJS的一个新角色就是它是一个相对较新的客户端的MVC框架场景;
在2012年6月发布的1.0版本。在现实中，这个框架的工作开始于2009年，谷歌员工MISKO Hevery的一个个人项目。最初的想法竟然是如此之好，在写作的时候，该项目正式通过谷歌公司的支持，并有全职工作的一个整体的团队在谷歌
工作于这个框架。

AngularJS它是由谷歌公司的一个开源项目托管在GitHub上（的角https://github.com// angular.js），并获麻省理工学院许可证的条款下。

在一天结束的时候，没有一个项目能在没有人支持下生存 . 幸运的是，AngularJS有很大的支持社区。以下是一些沟通渠道，其中一个可以讨论设计问题，并请求帮助：

* angular@googlegroups.com mailing list (Google group)* Google + community at https://plus.google.com/u/0/      communities/115368820700870330756*  '#angularjs IRC channel*  [angularjs] tag at http://stackoverflow.com
AngularJS团队在维护一个博客（http://blog.angularjs.org/），目前在社会化媒体，Google+（+ AngularJS的），推特（@ angularjs）。也有社区聚会在世界各地组织，如果发生托管附近一个地方，你的生活，它是绝对值得参加！
在线学习资源
===
AngularJS有自己的专用网站（http://www.angularjs.org），在这里我们可以找到一切人们所期望的框架：概念概述，教程，开发人员指南，API参考，等等。为所有发布AngularJS版本的源代码可以下载从http://code.angularjs.org。

人们寻找代码示例不会失望，因为的AngularJS文档本身有大量的代码片段。在此之上，我们可以浏览到内置在AngularJS（http://builtwith.angularjs.org）的应用程序集合。一个专门的YouTube频道（http://www.youtube.com/user/angularjs）有许多过往事件的录音，以及一些非常有用的视频教程。

库和扩展
===
是挤满了虽然AngularJS核心功能，活跃的社区，几乎每天都不断加入新的扩展。列出的许多人都在一个专门的网站：http://ngmodules.org。


工具
===
AngularJS是建立在HTML和JavaScript这两种技术之上，我们一直在web开发中使用多年。由于这一点，我们就可以继续使用没有任何问题，我们最喜欢的编辑器和集成开发环境，浏览器扩展，等等。此外，AngularJS社区贡献了一些有趣的补充到现有的HTML/ JavaScript的工具箱。

Batarang
===
Batarang是一个Chrome开发工具扩展插件,可以检查AngularJS的Web应用程序。 Batarang是非常方便的可视化和审查的AngularJS应用程序的运行时特征。我们看到这本书中广泛地使用它的来调试运行的应用程序。任何其他的Chrome扩展，可以安装Batarang从Chrome的的网上商店（AngularJS Batarang）中。

Plunker和jsfiddle
===
两个Plunker（http://plnkr.co）和的jsfiddle的（http://jsfiddle.net）使它很容易分享生动代码片段（JAVASCRIPT，CSS和HTML）。虽然这些工具都没有严格保留的用法与AngularJS，他们很快就被采纳由AngularJS社区分享小码的例子，情景重现bug，等等。 Plunker特别值得一提的，因为这是基于AngularJS开发的，并在社区中是一个非常流行的工具。

IDE扩展和插件
===
我们每个人都有一个喜欢的IDE或编辑。好消息是，一些现有的几个流行的IDE的插件/扩展，如Sublime Text 2（https://github.com/angular-ui/AngularJS-sublime-package），JetBrain的产品（http://plugins.jetbrains.com/plugin?pr=idea&pluginId=6971），依此类推。

AngularJS 速成
===
现在我们已经知道在哪里可以找到库的源代码和随行文档，我们可以真正编写代码并且看到AngularJS开发的效果。这部分内容中覆盖的AngularJS开发的模板，模块化和依赖注入的后续章节奠定了基础。这些都是任何AngularJS开发的 Web应用程序的基本构建块。


Hello World – the AngularJS example
===
让我们来看看典型的AnguarJS的“Hello World！”例子,开发中体验一下框架的第一印象`javascript`和语法实际效果。
	
	<html>   		<head>		<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.js"></script>		</head>		<body ng-app ng-init="name = 'World'"> <h1>Hello, {{name}}!</h1>		</body>	</html>
	首先，我们需要包含的AngularJS开发的库，使我们的例子在Web浏览器中正确运行。这是很容易用AngularJS开发，在其最简单的形式中，被打包为一个单独的JavaScript文件。
---
	AngularJS开发库是一个相对较小的：一个缩小的gzip压缩的版本只有大约30 KB。 缩小的没有gzip压缩的版本大约80 KB。它不需要任何第三方依赖。
	在这本书中,对于小的例子，我们将使用一个未压缩，开发人员友好的版本，托管在Google的内容交付网络（CDN）。对于所有版本AngularJS的源代码都可以从http://code.angularjs.org处下载。

---

包含AngularJS库文件,不足以运行一个例子,我们需要bootstrap库,最简单的方式就是使用自定义的`ng-app` HTML 属性

检查<body>标签发现有个非标准的HTML属性:`ng-init	`. 我们可以使用`ng-init`在html模板渲染前去实例化(Model)模型.最后一位的`{{name}}`表达式,简单渲染(Model)模型的值

即使这个非常初级简单的例子,带来一些重要的AngularJS模板系统的特性,比如:

* 自定义HTML标记和属性,能给静态的HTML文档添加动态行为
*  双花括号`{{表达式}}`用于分割输出model(模型)的值

在AngularJS框架中,所有特定的HTML标记和属性都能理解和解析为directives(指令).

双向数据绑定
---
渲染模板引擎在AngularJS是很直接用于框架中,生成动态web应用程序.为了实际体验一下AngularJS的威力,我们扩展"Hello World"例子带有输入框,示例代码如下:

	<body ng-app ng-init="name = 'World'">		Say hello to: <input type="text" ng-model="name"> 		<h1>Hello, {{name}}!</h1>	</body>

这里没有特别的关于`<input>` HTML标记部分,除了`ng-model`属性.实际的魔法发生在我们开始敲入文字到`<input>`文本框,突然每个按键后屏幕被重新绘制，以反映所提供的名称！没有需要编写任何代码，就会刷新一个模板，我们没有义务使用任何框架API调用来更新model(模型)。 AngularJS足够聪明，检测模型的变化，并相应地更新DOM。

大多数传统模板渲染系统呈现线性，单向的过程中：一个模型（变量）和模板结合在一起，产生一个结果标记。模型的任何变化，需要重新复算模板。 AngularJS是不同的，因为任何由用户触发view(视图)的更改会立即反映在model模型中，模型中的任何变化立即传播到一个模板。

AngularJS中的MVC模式
---
大多数现有web应用程序是基于一种非常出名的模型-视图-控制器(MVC)模式.但是问题是MVC并不是一个很精确的模式,
而是一个高层次,架构.更糟糕的是,有很多存在的基于原有模式的变化和衍生模式(MVP和MVVM似乎是最流行的).增加这种混乱,不同的框架和开发者尝试去解析提到的模式的不同.这样导致一个结果就是同样的MVC名字,会有不同的架构和编码体系.Martin Fowler在他的著名的GUI架构的文章中优雅的进行了总结.(http://martinfowler.com/eaaDev/ uiArchs.html):

   *Take Model-View-Controller as an example. It's often referred to as a pattern, but I don't find it terribly useful to think of it as a pattern because it contains quite a few different ideas. Different people reading about MVC in different places take different ideas from it and describe these as 'MVC'. If this doesn't cause enough confusion you then get the effect of misunderstandings of MVC that develop through a system of Chinese whispers.*
	
AngularJS团队采用了非常务实的做法,宣布他们的框架是基于MVW(模型-视图-任何)模式,基本上只要你能所感受到就去实践它 .

鸟瞰
---
所有的"Hello World"的例子,并没有采用任何明确的分层策略: 数据初始化,业务逻辑,视图都混合在一个文件中.
在实际的应用中,我们需要更加注重分层的实现.幸运的是AngularJS提供了布通架构结构,使我们能够正确的构建更复杂的应用

	所有本书随后的例子为了可读性都忽略了AngularJS的初始化代码(脚本包括,ng-app属性等)
	
让我们看一下直接的修改后的"Hello World"例子:

	<div ng-controller="HelloCtrl">		Say hello to: <input type="text" ng-model="name"><br>
		<h1>Hello, {{name}}!</h1>	</div>

`ng-init` 属性都去掉了,取而代之的是我们看到新的`ng-controller`指令和对应的JavaScript函数.这个`HelloCtrl`接受了神秘的`$scope`参数:
	
	var HelloCtrl = function ($scope) { $scope.name = 'World';	}
Scope (作用域)
---
在AngularJS中`$scope`对象是暴露了领域模型给视图(模板).通过分配属性给作用域实例,我们能设置新的值给模板引擎去渲染.

作用域能增强数据和特定功能的视图.我们能暴露UI特定的逻辑给模板去定义函数在这个作用域实例上.
举例,可以给`name`变量创建一个get函数,如下代码:
	
	var HelloCtrl = function ($scope) {      $scope.getName = function() {         return $scope.name;	   };	}
而且当在模板上使用它的时候,代码如下:
	<h1>Hello, {{getName()}}!</h1>
	
`$scope`对象运行我们精确控制部分领域模型,并且能操作于视图层.概念地,AngularJS作用域是非常接近于MVVM模式.
Controller(控制器)
---
控制器主要的责任就是实例化作用域(scope)对象,实战中,实例化逻辑包含如下方面:

*  提供实例化模型的值
*  参数化`$scope`于UI相关的行为(函数)

控制器是规范化的JavaScript函数.它们既不必去扩展任何框架相关的类页不必去调任何AngularJS相关的API去实现他们的工作.

	请注意一个控制器其实做着与ng-init指令一样的工作,当它启动初始化模型值的时候.  
	控制器尽可能在JavaScript中去表达这个初始化逻辑,不需要HTML模板和编码
	
Model(模型)
---
AngularJS的模型是普通JavaScript对象.既不要继承框架基类,也不要用特殊方式去构建模型.

尽可能用已存在的纯JavaScript类和对象,用同样的方式运用在模型层.我们并不局限于模型属性所代表的原始值（可以使用任何有效的JavaScript对象或数组）。为了暴露一个模型AngularJS只需简单分配给`$scope`就可以了.

	AngularJS并不是侵入的,让我们保持模型对象不受特定框架代码的干扰.
	
作用域深化
---
每个$scope都是一个 Scope类的实例化.Scope类有方法去控制scope(作用域)的生命周期,提供基于事件传播机制,并且支持模板渲染进程

作用域的层次
---
让我们另外看一个简单的`HelloCtrl`例子:

	var HelloCtrl = function ($scope) {
		$scope.name = 'World';	}
HelloCtrl 看起来类似于正规的JavaScript 构造函数,没有特殊的地方,除了`$scope` 参数.那这个参数是哪里来的呢?
新scope(作用域)创建于 `ng-controller` directive(指令) 通过`Scope.$new()`方法调用.等一会,这看起来我们需要至少一个实例 scope 去创建新 scope . AngularJS 有一个`$rootScope`(所有其他scope的父scope).当新应用程序启动后`$rootScope`实例就创建好了.
`ng-controller` 指令就是一个scope作用域创建的directive(指令).AngularJS将要创建一个新的Scope类的实例,每当遇到一个scope创建的指令在DOM树 .如果新创建的scope要指向他的父scope的化要用`$parent`属性.这样就会有多个scope创建的指令在DOM树上,并且结果是多个scope 要被创建.
	Scope(作用域)来自父子,树形结构的$rootScope实例.作用域的创建来自于DOM树,并不奇怪scope树会模仿DOM结构
现在我们知道有些指令会创建新的子作用域,你可能会疑惑为什么这么复杂.为了理解这个,让我们看一下例子,如何使用`ng-repeat` 重复指令.
Contrller 如下:
	var WorldCtrl = function ($scope) {
	$scope.population = 7000;
	$scope.countries = [          {name: 'France', population: 63.1},          {name: 'United Kingdom', population: 61.8},
    ];    };
增加的标记片段看起来如下:	<ul ng-controller="WorldCtrl">		<li **ng-repeat="country in countries"**>			{{country.name}} has population of {{country.population}} 
		</li>		<hr>		World's population: {{population}} millions 
	</ul>
	
`ng-repeat`指令允许我们去迭代一个国家的集合对象并且创建新的DOM元素	









